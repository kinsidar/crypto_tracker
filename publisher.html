var pubnub = new PubNub({
    publishKey: 'pub-c-d97ea338-6ccf-4bfe-8149-32257b7749b2',
    subscribeKey: 'sub-c-5fa09a6c-128e-11e8-a78c-ded3dc92678b'
});

var xhr = new XMLHttpRequest();


function processRequest(e) {
    if (xhr.readyState == 4 &&  xhr.status == 200) {
        var response = JSON.parse(xhr.responseText);
            pubnub.publish({
                channel: 'bitcoin-feed',
                message: {
                    eon: {
                        'Bitcoin': response.BTC.USD.toFixed(2)
                    }
                }
            });
    }
}